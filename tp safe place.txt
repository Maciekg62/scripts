local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local spawnPos = Vector3.new(-21206, 97428, 36654)

-- Stwórz mały baseplate (Spawn Platform)
local baseplate = Instance.new("Part")
baseplate.Size = Vector3.new(20, 1, 20)
baseplate.Anchored = true
baseplate.Position = spawnPos
baseplate.Name = "CustomSpawnBaseplate"
baseplate.Parent = workspace

-- Znajdź odpowiedni model Area
local function findPlayerArea()
    local buildingAreas = workspace:FindFirstChild("BuildingAreas")
    if not buildingAreas then return nil end

    for i = 1, 9 do
        local area = buildingAreas:FindFirstChild("Area" .. i)
        if area then
            local playerValue = area:FindFirstChild("Player")
            if playerValue and playerValue:IsA("StringValue") and playerValue.Value == player.Name then
                return area
            end
        end
    end
    return nil
end

-- Przenieś SpawnLocation do danego Area
local function moveSpawnLocation()
    local area = findPlayerArea()
    if area then
        local spawn = area:FindFirstChild("SpawnLocation")
        if spawn and spawn:IsA("BasePart") then
            spawn.CFrame = CFrame.new(spawnPos)
        end
    end
end

-- Ustaw respawn na spawnPos
player.CharacterAdded:Connect(function(char)
    task.wait(0.5)
    local root = char:WaitForChild("HumanoidRootPart")
    root.CFrame = CFrame.new(spawnPos + Vector3.new(0, 3, 0))
end)

moveSpawnLocation()
